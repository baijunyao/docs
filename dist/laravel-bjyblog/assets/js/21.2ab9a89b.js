(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{199:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("一般应用于生产环境的的服务器都是安装的不带桌面的版本 linux 系统；"),s("br"),t._v("\n面对着黑乎乎的命令行窗口；"),s("br"),t._v("\n对于不熟悉服务器的童鞋来说；"),s("br"),t._v("\n搭建 LNMP 环境来说是一件比较折腾的事；"),s("br"),t._v("\n即便是稍微熟悉点的童鞋管理服务器也会觉得繁琐；"),s("br"),t._v("\n这时候如果可以通过界面代替命令行来操作服务器那想必是极好的；"),s("br"),t._v(" "),s("a",{attrs:{href:"https://bt.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("宝塔"),s("OutboundLink")],1),t._v("就是这样一款国产的免费的面板；")]),t._v(" "),s("p",[t._v("要使用宝塔面板首先需要开启端口；"),s("br"),t._v("\n腾讯云："),s("a",{attrs:{href:"https://www.bt.cn/bbs/thread-1229-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bt.cn/bbs/thread-1229-1-1.html"),s("OutboundLink")],1),s("br"),t._v("\n阿里云："),s("a",{attrs:{href:"https://www.bt.cn/bbs/thread-2897-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bt.cn/bbs/thread-2897-1-1.html"),s("OutboundLink")],1),s("br"),t._v("\n华为云："),s("a",{attrs:{href:"https://www.bt.cn/bbs/thread-3923-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bt.cn/bbs/thread-3923-1-1.html"),s("OutboundLink")],1),s("br"),t._v("\n然后执行下面的命令即可；")]),t._v(" "),t._m(1),t._m(2),t._v(" "),t._m(3),s("p",[t._v("删除默认的文件")]),t._v(" "),t._m(4),s("p",[t._v("初始化项目")]),t._v(" "),t._m(5),s("p",[t._v("设置项目仓库地址")]),t._v(" "),t._m(6),s("p",[t._v("拉取项目")]),t._v(" "),t._m(7),s("p",[t._v("接着就是上篇文章"),s("a",{attrs:{href:"https://baijunyao.com/article/148",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何正确的下载安装使用别人的laravel项目？"),s("OutboundLink")],1),t._v("讲的安装项目了；"),s("br"),t._v("\n我们需要复制跟目录下的 "),s("code",[t._v(".env.example")]),t._v(" 文件并重命名为 "),s("code",[t._v(".env")]),t._v(" ；")]),t._v(" "),t._m(8),s("p",[t._v("使用 vim 编辑 .env 或者使用我们创建站点时候的 ftp ；")]),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),s("p",[t._v("设置国内镜像")]),t._v(" "),t._m(12),s("p",[t._v("使用 composer ；")]),t._v(" "),t._m(13),s("p",[t._v("生成 key ；")]),t._v(" "),t._m(14),s("p",[t._v("生成数据表；")]),t._v(" "),t._m(15),s("p",[t._v("生成初始化的数据；")]),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),s("p",[t._v("赋予权限")]),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),s("p",[t._v("安装扩展包；")]),t._v(" "),t._m(22),s("p",[t._v("执行表迁移；")]),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),s("p",[t._v("完工；")])])},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("Windows 上面可以用来测试；"),s("br"),t._v("\n生产环境则建议使用 Linux；"),s("br"),t._v("\n这里示例是使用 CentOS 7.4 ；"),s("br"),t._v("\n使用宝塔面板；"),s("br"),t._v("\n如果还没有服务器建议购买阿里云的或者是腾讯云的；"),s("br"),t._v("\n这台服务器需要是未安装过 php 的环境；"),s("br"),t._v("\n如果服务器已经被折腾过一番；"),s("br"),t._v("\n建议备份下数据后重装下环境；"),s("br"),t._v("\n阿里云和腾讯云都有重装系统的选项；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6cd93935a.jpg",alt:""}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -O install.sh http://download.bt.cn/install/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" sh install.sh  \n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("中途如果询问 Do you want to install Bt-Panel to the /www directory now?(y/n): 输入 y 回车即可；"),s("br"),t._v("\n然后就可以打开王者农药了但是不要匹配组队；"),s("br"),t._v("\n进入游戏领领奖励抽抽奖的时间很快就装完了；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6ce5a57d3.jpg",alt:""}}),s("br"),t._v("\n安装成功后会有登录链接账号以及密码；"),s("br"),t._v("\n浏览器里打开链接输入账号密码登录；"),s("br"),t._v("\n登录成功后在首页会自动弹出环境类型选择；"),s("br"),t._v("\n这里我们使用LNMP；"),s("br"),t._v("\n选最新的php7.2 ；"),s("br"),t._v("\n选择编译安装；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6cf630881.jpg",alt:""}}),s("br"),t._v("\n如果不小心关掉了没关系哈；"),s("br"),t._v("\n在首页刷新下就又会自动弹出来了；"),s("br"),t._v("\n点了一键安装后就可以匹配游戏了；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d085e2c3.jpg",alt:""}}),s("br"),t._v("\n这个稍微会比较慢；"),s("br"),t._v("\n全程自动化安装不用管她；"),s("br"),t._v("\n输完两局后再回来就完成了；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d1485b09.jpg",alt:""}}),s("br"),t._v("\n我们还需要安装一些 php 的扩展；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d301721a.jpg",alt:""}}),s("br"),t._v("\n再打开农药；"),s("br"),t._v("\n这次开一局输完回来就安装完成了；"),s("br"),t._v("\n取消被禁用的 proc_open 函数；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d3df41d0.jpg",alt:""}}),s("br"),t._v("\n新建一个站点；"),s("br"),t._v("\n我这里以 laravel-bjyblog.test 为例；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d4949d6d.jpg",alt:""}}),s("br"),t._v("\n可以把域名解析到服务器的 ip 了；"),s("br"),t._v("\n地址栏输入域名即可访问项目；"),s("br"),t._v("\n如果没有解析域名；"),s("br"),t._v("\n可以直接访问 ip 也行；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d58079da.jpg",alt:""}}),s("br"),t._v("\n到这站点已经创建成功了；"),s("br"),t._v("\n下面我们来安装 laravel-bjyblog ；"),s("br"),t._v("\n回到命令行我们这里使用 git 安装 laravel-bjyblog ；"),s("br"),t._v("\n先进入站点；")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" /www/wwwroot/laravel-bjyblog.test  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("rm")]),this._v(" -rf index.html .htaccess 404.html  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" init  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" remote add origin https://gitee.com/baijunyao/laravel-bjyblog.git  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" pull origin master  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("cp")]),this._v(" .env.example .env  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("vim .env  \n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("我们需要改成自己的实际配置；"),s("br"),t._v("\nAPP_NAME 就是自己的项目名称比如我的白俊遥博客；"),s("br"),t._v("\nAPP_URL 就是我们的项目链接比如说我的 http://laravel-bjyblog.test；"),s("br"),t._v("\nDB_DATABASE 就是我们的数据库名比如说 laravel_bjyblog；"),s("br"),t._v("\nDB_USERNAME 数据库用户名比如说 laravel_bjyblog ；"),s("br"),t._v("\nDB_PASSWORD 数据库密码比如说 *** ；"),s("br"),t._v("\n宝塔并没有安装 composer ;"),s("br"),t._v("\n我们自己安装下；")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("php -r "),a("span",{pre:!0,attrs:{class:"token string"}},[this._v("\"copy('https://getcomposer.org/installer', 'composer-setup.php');\"")]),this._v("  \nphp -r "),a("span",{pre:!0,attrs:{class:"token string"}},[this._v("\"if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"")]),this._v("  \nphp composer-setup.php  \nphp -r "),a("span",{pre:!0,attrs:{class:"token string"}},[this._v("\"unlink('composer-setup.php');\"")]),this._v("  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("composer config -g repo.packagist composer https://packagist.phpcomposer.com  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("composer "),a("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v("  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("php artisan key:generate  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("php artisan migrate  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("php artisan db:seed  \n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("项目已经安装完成了；"),s("br"),t._v("\n但是这时候还不能访问；"),s("br"),t._v("\n我们还需要配置下站点；"),s("br"),t._v("\n把网址目录指向到 public；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d732277b.jpg",alt:""}}),s("br"),t._v("\n定义伪静态；"),s("br"),t._v(" "),s("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d80bf43c.jpg",alt:""}}),s("br"),t._v("\n把所有者改为 www")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("chown")]),this._v(" -R www:www * .*  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("chmod")]),this._v(" -R 755 *  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("现在可以访问下域名或者 ip ；"),a("br"),this._v("\n一个 laravel-bjyblog 博客已经展现在你面前了；"),a("br"),this._v("\n如果有新的版本需要更新；"),a("br"),this._v("\n直接拉取下；")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" pull origin master  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("composer "),a("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v("   \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("php artisan migrate  \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("如果测试没问题了要把博客正式对外发布了；"),a("br"),this._v("\n还需要做点工作；"),a("br"),this._v("\n首先修改 .env")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("vim .env  \n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("把 "),s("code",[t._v("APP_ENV")]),t._v(" 改为 "),s("code",[t._v("production")]),t._v(" ;"),s("br"),t._v("\n把 "),s("code",[t._v("APP_DEBUG")]),t._v(" 改为 "),s("code",[t._v("false")]),t._v(" ;"),s("br"),t._v("\n执行 composer ;")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[this._v("composer "),a("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --no-dev  \n")])])])}],!1,null,null,null);r.options.__file="Linux.md";a.default=r.exports}}]);