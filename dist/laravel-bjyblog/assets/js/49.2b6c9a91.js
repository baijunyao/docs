(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{372:function(a,s,t){"use strict";t.r(s);var r=t(46),e=Object(r.a)({},function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("Windows 上面可以用来测试；"),t("br"),a._v("\n生产环境则建议使用 Linux；"),t("br"),a._v("\n这里示例是使用 CentOS 7.4 ；"),t("br"),a._v("\n使用宝塔面板；"),t("br"),a._v("\n如果还没有服务器建议购买阿里云的或者是腾讯云的；"),t("br"),a._v("\n这台服务器需要是未安装过 php 的环境；"),t("br"),a._v("\n如果服务器已经被折腾过一番；"),t("br"),a._v("\n建议备份下数据后重装下环境；"),t("br"),a._v("\n阿里云和腾讯云都有重装系统的选项；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6cd93935a.jpg",alt:""}})]),a._v(" "),t("p",[a._v("一般应用于生产环境的的服务器都是安装的不带桌面的版本 linux 系统；"),t("br"),a._v("\n面对着黑乎乎的命令行窗口；"),t("br"),a._v("\n对于不熟悉服务器的童鞋来说；"),t("br"),a._v("\n搭建 LNMP 环境来说是一件比较折腾的事；"),t("br"),a._v("\n即便是稍微熟悉点的童鞋管理服务器也会觉得繁琐；"),t("br"),a._v("\n这时候如果可以通过界面代替命令行来操作服务器那想必是极好的；"),t("br"),a._v(" "),t("a",{attrs:{href:"https://bt.cn",target:"_blank",rel:"noopener noreferrer"}},[a._v("宝塔"),t("OutboundLink")],1),a._v("就是这样一款国产的免费的面板；")]),a._v(" "),t("p",[a._v("要使用宝塔面板首先需要开启端口；"),t("br"),a._v("\n腾讯云："),t("a",{attrs:{href:"https://www.bt.cn/bbs/thread-1229-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.bt.cn/bbs/thread-1229-1-1.html"),t("OutboundLink")],1),t("br"),a._v("\n阿里云："),t("a",{attrs:{href:"https://www.bt.cn/bbs/thread-2897-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.bt.cn/bbs/thread-2897-1-1.html"),t("OutboundLink")],1),t("br"),a._v("\n华为云："),t("a",{attrs:{href:"https://www.bt.cn/bbs/thread-3923-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.bt.cn/bbs/thread-3923-1-1.html"),t("OutboundLink")],1),t("br"),a._v("\n然后执行下面的命令即可；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -O install.sh http://download.bt.cn/install/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" sh install.sh  \n")])])]),t("p",[a._v("中途如果询问 Do you want to install Bt-Panel to the /www directory now?(y/n): 输入 y 回车即可；"),t("br"),a._v("\n然后就可以打开王者农药了但是不要匹配组队；"),t("br"),a._v("\n进入游戏领领奖励抽抽奖的时间很快就装完了；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6ce5a57d3.jpg",alt:""}}),t("br"),a._v("\n安装成功后会有登录链接账号以及密码；"),t("br"),a._v("\n浏览器里打开链接输入账号密码登录；"),t("br"),a._v("\n登录成功后在首页会自动弹出环境类型选择；"),t("br"),a._v("\n这里我们使用LNMP；"),t("br"),a._v("\n选最新的php7.2 ；"),t("br"),a._v("\n选择编译安装；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6cf630881.jpg",alt:""}}),t("br"),a._v("\n如果不小心关掉了没关系哈；"),t("br"),a._v("\n在首页刷新下就又会自动弹出来了；"),t("br"),a._v("\n点了一键安装后就可以匹配游戏了；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d085e2c3.jpg",alt:""}}),t("br"),a._v("\n这个稍微会比较慢；"),t("br"),a._v("\n全程自动化安装不用管她；"),t("br"),a._v("\n输完两局后再回来就完成了；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d1485b09.jpg",alt:""}}),t("br"),a._v("\n我们还需要安装一些 php 的扩展；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d301721a.jpg",alt:""}}),t("br"),a._v("\n再打开农药；"),t("br"),a._v("\n这次开一局输完回来就安装完成了；"),t("br"),a._v("\n取消被禁用的 proc_open 函数；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d3df41d0.jpg",alt:""}}),t("br"),a._v("\n新建一个站点；"),t("br"),a._v("\n我这里以 laravel-bjyblog.test 为例；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d4949d6d.jpg",alt:""}}),t("br"),a._v("\n可以把域名解析到服务器的 ip 了；"),t("br"),a._v("\n地址栏输入域名即可访问项目；"),t("br"),a._v("\n如果没有解析域名；"),t("br"),a._v("\n可以直接访问 ip 也行；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d58079da.jpg",alt:""}}),t("br"),a._v("\n到这站点已经创建成功了；"),t("br"),a._v("\n下面我们来安装 laravel-bjyblog ；"),t("br"),a._v("\n回到命令行我们这里使用 git 安装 laravel-bjyblog ；"),t("br"),a._v("\n先进入站点；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cd")]),a._v(" /www/wwwroot/laravel-bjyblog.test  \n")])])]),t("p",[a._v("删除默认的文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf index.html .htaccess 404.html  \n")])])]),t("p",[a._v("初始化项目")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" init  \n")])])]),t("p",[a._v("设置项目仓库地址")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote add origin https://gitee.com/baijunyao/laravel-bjyblog.git  \n")])])]),t("p",[a._v("拉取项目")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" pull origin master  \n")])])]),t("p",[a._v("接着就是上篇文章"),t("a",{attrs:{href:"https://baijunyao.com/article/148",target:"_blank",rel:"noopener noreferrer"}},[a._v("如何正确的下载安装使用别人的laravel项目？"),t("OutboundLink")],1),a._v("讲的安装项目了；"),t("br"),a._v("\n我们需要复制跟目录下的 "),t("code",[a._v(".env.example")]),a._v(" 文件并重命名为 "),t("code",[a._v(".env")]),a._v(" ；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" .env.example .env  \n")])])]),t("p",[a._v("使用 vim 编辑 .env 或者使用我们创建站点时候的 ftp ；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("vim .env  \n")])])]),t("p",[a._v("我们需要改成自己的实际配置；"),t("br"),a._v("\nAPP_NAME 就是自己的项目名称比如我的白俊遥博客；"),t("br"),a._v("\nAPP_URL 就是我们的项目链接比如说我的 http://laravel-bjyblog.test；"),t("br"),a._v("\nDB_DATABASE 就是我们的数据库名比如说 laravel_bjyblog；"),t("br"),a._v("\nDB_USERNAME 数据库用户名比如说 laravel_bjyblog ；"),t("br"),a._v("\nDB_PASSWORD 数据库密码比如说 *** ；"),t("br"),a._v("\n宝塔并没有安装 composer ;"),t("br"),a._v("\n我们自己安装下；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php -r "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"copy('https://getcomposer.org/installer', 'composer-setup.php');\"")]),a._v("  \nphp -r "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"")]),a._v("  \nphp composer-setup.php  \nphp -r "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"unlink('composer-setup.php');\"")]),a._v("  \n")])])]),t("p",[a._v("设置国内镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("composer config -g repo.packagist composer https://packagist.phpcomposer.com  \n")])])]),t("p",[a._v("使用 composer ；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("composer "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("  \n")])])]),t("p",[a._v("生成 key ；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan key:generate  \n")])])]),t("p",[a._v("生成数据表；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan migrate  \n")])])]),t("p",[a._v("生成初始化的数据；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan db:seed  \n")])])]),t("p",[a._v("项目已经安装完成了；"),t("br"),a._v("\n但是这时候还不能访问；"),t("br"),a._v("\n我们还需要配置下站点；"),t("br"),a._v("\n把网址目录指向到 public；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d732277b.jpg",alt:""}}),t("br"),a._v("\n定义伪静态；"),t("br"),a._v(" "),t("img",{attrs:{src:"https://baijunyao.com/uploads/article/20180422/5adc6d80bf43c.jpg",alt:""}}),t("br"),a._v("\n把所有者改为 www")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" -R www:www * .*  \n")])])]),t("p",[a._v("赋予权限")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" -R 755 *  \n")])])]),t("p",[a._v("现在可以访问下域名或者 ip ；"),t("br"),a._v("\n一个 laravel-bjyblog 博客已经展现在你面前了；"),t("br"),a._v("\n如果有新的版本需要更新；"),t("br"),a._v("\n直接拉取下；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" pull origin master  \n")])])]),t("p",[a._v("安装扩展包；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("composer "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("   \n")])])]),t("p",[a._v("执行表迁移；")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan migrate  \n")])])]),t("p",[a._v("如果测试没问题了要把博客正式对外发布了；"),t("br"),a._v("\n还需要做点工作；"),t("br"),a._v("\n首先修改 .env")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("vim .env  \n")])])]),t("p",[a._v("把 "),t("code",[a._v("APP_ENV")]),a._v(" 改为 "),t("code",[a._v("production")]),a._v(" ;"),t("br"),a._v("\n把 "),t("code",[a._v("APP_DEBUG")]),a._v(" 改为 "),t("code",[a._v("false")]),a._v(" ;"),t("br"),a._v("\n执行 composer ;")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("composer "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --no-dev  \n")])])]),t("p",[a._v("完工；")])])},[],!1,null,null,null);s.default=e.exports}}]);